"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[406],{8143:function(t,e,a){a.d(e,{Z:function(){return l}});var o=function(){var t=this,e=t._self._c;return e("div",[[e("div",[e("el-card",{staticClass:"box-card",scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"card-header"},[e("span",[t._v(t._s(t.title))]),e("div",{staticClass:"extra"},[t._t("extra")],2)])]},proxy:!0}],null,!0)},[t._t("default")],2)],1)]],2)},i=[],s={props:{title:{type:String,default:"标题"}}},n=s,r=a(4249),p=(0,r.Z)(n,o,i,!1,null,"26483a25",null),l=p.exports},6406:function(t,e,a){a.r(e),a.d(e,{default:function(){return b}});var o,i=function(){var t=this,e=t._self._c;return e("div",[e("Headercomponer",{attrs:{title:"学生数据"}},[e("div",{attrs:{slot:"extra"},slot:"extra"}),e("div",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:7}},[e("div",{staticClass:"overview"},[e("el-card",[e("div",{staticClass:"detail"},[e("p",{staticClass:"detail-text"},[t._v("平均就业薪资")]),e("p",{staticClass:"detail-num"},[t._v(t._s(t.overview.salary))])]),e("i",{staticClass:"el-icon-s-finance icon"})]),e("el-card",[e("div",{staticClass:"detail"},[e("p",{staticClass:"detail-text"},[t._v("班级人数")]),e("p",{staticClass:"detail-num"},[t._v(t._s(t.overview.student_count))])]),e("i",{staticClass:"el-icon-user icon"})]),e("el-card",[e("div",{staticClass:"detail"},[e("p",{staticClass:"detail-text"},[t._v("平均年龄")]),e("p",{staticClass:"detail-num"},[t._v(t._s(t.overview.age))])]),e("i",{staticClass:"el-icon-date icon"})]),e("el-card",[e("div",{staticClass:"detail"},[e("p",{staticClass:"detail-text"},[t._v("小组个数")]),e("p",{staticClass:"detail-num"},[t._v(t._s(t.overview.group_count))])]),e("i",{staticClass:"el-icon-files icon"})])],1),e("div",{staticClass:"salaryData1"},[e("el-card",[e("div",{ref:"salaryMan",staticStyle:{height:"280px"}}),e("div",{ref:"salaryMiss",staticStyle:{height:"280px"}})])],1)]),e("el-col",{attrs:{span:17}},[e("el-card",{staticClass:"el-card-mothe"},[e("div",{ref:"salaryline",staticStyle:{height:"300px"}})]),e("el-card",[e("div",{ref:"classnum",staticStyle:{height:"300px"}})]),e("el-card",{staticClass:"classgroup"},[e("div",{staticClass:"header-group"},[e("p",[t._v("每组薪资")]),e("div",[e("p",[t._v("第"+t._s(t.group)+"组")]),t._l(8,(function(a,o){return e("button",{key:o,on:{click:function(e){return t.changeGroup(a)}}},[t._v(t._s(a))])}))],2)]),e("div",{ref:"classgroup",staticStyle:{height:"300px"}})]),e("el-card",[e("div",{ref:"nativeplace",staticStyle:{height:"550px"}})])],1)],1)],1)])],1)},s=[],n=a(918);function r(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function p(t,e){return e=e||[0,0],n.D5.map([0,1],(function(a){var o=e[a],i=t[a]/2,s=[],n=[];return s[a]=o-i,n[a]=o+i,s[1-a]=n[1-a]=e[1-a],Math.abs(this.dataToPoint(s)[a]-this.dataToPoint(n)[a])}),this)}function l(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}r.prototype.type="bmap",r.prototype.dimensions=["lng","lat"],r.prototype.setZoom=function(t){this._zoom=t},r.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},r.prototype.setMapOffset=function(t){this._mapOffset=t},r.prototype.getBMap=function(){return this._bmap},r.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),a=this._bmap.pointToOverlayPixel(e),o=this._mapOffset;return[a.x-o[0],a.y-o[1]]},r.prototype.pointToData=function(t){var e=this._mapOffset;return t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]}),[t.lng,t.lat]},r.prototype.getViewRect=function(){var t=this._api;return new n.Q.KC(0,0,t.getWidth(),t.getHeight())},r.prototype.getRoamTransform=function(){return n.pI.create()},r.prototype.prepareCustoms=function(){var t=this.getViewRect();return{coordSys:{type:"bmap",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:n.D5.bind(this.dataToPoint,this),size:n.D5.bind(p,this)}}},r.prototype.convertToPixel=function(t,e,a){return this.dataToPoint(a)},r.prototype.convertFromPixel=function(t,e,a){return this.pointToData(a)},r.dimensions=r.prototype.dimensions,r.create=function(t,e){var a,i=e.getDom();return t.eachComponent("bmap",(function(t){var s,p=e.getZr().painter,c=p.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(o=o||l(),a)throw new Error("Only one bmap component can exist");if(!t.__bmap){var d=i.querySelector(".ec-extension-bmap");d&&(c.style.left="0px",c.style.top="0px",i.removeChild(d)),d=document.createElement("div"),d.className="ec-extension-bmap",d.style.cssText="position:absolute;width:100%;height:100%",i.appendChild(d);var u=t.get("mapOptions");u&&(u=n.D5.clone(u),delete u.mapType),s=t.__bmap=new BMap.Map(d,u);var h=new o(c);s.addOverlay(h),p.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}s=t.__bmap;var m=t.get("center"),f=t.get("zoom");if(m&&f){var v=s.getCenter(),y=s.getZoom(),g=t.centerOrZoomChanged([v.lng,v.lat],y);if(g){var _=new BMap.Point(m[0],m[1]);s.centerAndZoom(_,f)}}a=new r(s,e),a.setMapOffset(t.__mapOffset||[0,0]),a.setZoom(f),a.setCenter(m),t.coordinateSystem=a})),t.eachSeries((function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=a)})),a&&[a]};var c=r;function d(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}n.tv({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var a=this.option;return!(d(t,a.center)&&e===a.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}});function u(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}n.Sp({type:"bmap",render:function(t,e,a){var o=!0,i=t.getBMap(),s=a.getZr().painter.getViewportRoot(),r=t.coordinateSystem,p=function(e,i){if(!o){var n=s.parentNode.parentNode.parentNode,p=[-parseInt(n.style.left,10)||0,-parseInt(n.style.top,10)||0],l=s.style,c=p[0]+"px",d=p[1]+"px";l.left!==c&&(l.left=c),l.top!==d&&(l.top=d),r.setMapOffset(p),t.__mapOffset=p,a.dispatchAction({type:"bmapRoam",animation:{duration:0}})}};function l(){o||a.dispatchAction({type:"bmapRoam",animation:{duration:0}})}i.removeEventListener("moving",this._oldMoveHandler),i.removeEventListener("moveend",this._oldMoveHandler),i.removeEventListener("zoomend",this._oldZoomEndHandler),i.addEventListener("moving",p),i.addEventListener("moveend",p),i.addEventListener("zoomend",l),this._oldMoveHandler=p,this._oldZoomEndHandler=l;var c=t.get("roam");c&&"scale"!==c?i.enableDragging():i.disableDragging(),c&&"move"!==c?(i.enableScrollWheelZoom(),i.enableDoubleClickZoom(),i.enablePinchToZoom()):(i.disableScrollWheelZoom(),i.disableDoubleClickZoom(),i.disablePinchToZoom());var d=t.__mapStyle,h=t.get("mapStyle")||{},m=JSON.stringify(h);JSON.stringify(d)!==m&&(u(h)||i.setMapStyle(n.D5.clone(h)),t.__mapStyle=JSON.parse(m));var f=t.__mapStyle2,v=t.get("mapStyleV2")||{},y=JSON.stringify(v);JSON.stringify(f)!==y&&(u(v)||i.setMapStyleV2(n.D5.clone(v)),t.__mapStyle2=JSON.parse(y)),o=!1}});n.RS("bmap",c),n.zl({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},(function(t,e){e.eachComponent("bmap",(function(t){var e=t.getBMap(),a=e.getCenter();t.setCenterAndZoom([a.lng,a.lat],e.getZoom())}))}));var h=a(3800),m=a(8143),f=a(9049),v={data(){return{overview:{},year:[],salaryData:[],groupData:{},classGroup:[],provinceData:[],group:1}},async created(){this.$store.commit("tag/selecMenu",{path:this.$route.path,label:"学生数据"});const{data:{data:t}}=await(0,h.Mk)();this.overview=t.overview,this.year=t.year,this.salaryData=t.salaryData,this.groupData=t.groupData,this.classGroup=t.groupData["1"],this.provinceData=t.provinceData;const e=[],a=[];this.salaryData.forEach((t=>{e.push({name:t.label,value:t.g_count}),a.push({name:t.label,value:t.b_count})}));const o=n.S1(this.$refs.salaryMan);o.setOption({title:{text:"男女薪资分布"},legend:{top:"5%",left:"center"},tooltip:{trigger:"item"},series:[{name:"男",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},data:e}]});const i=n.S1(this.$refs.salaryMiss);i.setOption({legend:{top:"0%",left:"center"},tooltip:{trigger:"item"},series:[{emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"}},label:{show:!1,position:"center"},name:"女",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},data:a}]});const s=[],r=[];this.year.forEach((t=>{s.push(t.month),r.push(t.salary)}));const p=n.S1(this.$refs.salaryline);p.setOption({title:{text:"薪资走势"},xAxis:{type:"category",data:s},yAxis:{},series:[{data:r,type:"line",smooth:!0}]});const l=[];this.salaryData.forEach((t=>{l.push({name:t.label,value:t.g_count+t.b_count})}));const c=n.S1(this.$refs.classnum);c.setOption({title:{text:"班级薪资分布"},tooltip:{trigger:"item"},series:[{itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},name:"薪资范围------人数",type:"pie",data:l}]}),this.changeGroup();const d=n.S1(this.$refs.nativeplace);d.showLoading();const u="https://echarts.apache.org/examples";f.Z.get(u+"/data/asset/geo/CHN.json").then((t=>{d.hideLoading(),n.je("CHN",t.data,{Alaska:{left:-131,top:25,width:15},Hawaii:{left:-110,top:28,width:5},"Puerto Rico":{left:-76,top:26,width:2}}),d.setOption({title:{text:"中国人口估计（2012年）",subtext:"来自 www.census.gov",sublink:"http://www.census.gov/popest/data/datasets.html",left:"right"},tooltip:{trigger:"item",showDelay:0,transitionDuration:.2}})})).catch((()=>{}))},methods:{changeGroup(t){t&&(this.group=t,this.classGroup=this.groupData[`${t}`]);const e=n.S1(this.$refs.classgroup);e.setOption({tooltip:{},legend:{data:["期望薪资","就业薪资"]},xAxis:{data:this.classGroup.map((t=>t.name)),type:"category"},yAxis:[{type:"value"}],series:[{name:"期望薪资",data:this.classGroup.map((t=>t.hope_salary)),type:"bar"},{name:"就业薪资",data:this.classGroup.map((t=>t.salary)),type:"bar"}]})}},components:{Headercomponer:m.Z}},y=v,g=a(4249),_=(0,g.Z)(y,i,s,!1,null,"21a9e8e2",null),b=_.exports}}]);
//# sourceMappingURL=406.07bf3dd1.js.map