{"version":3,"file":"js/956.fce5c302.js","mappings":"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","sources":["webpack://vue-project/./src/views/layout/usermang.vue","webpack://vue-project/./src/api/user.js","webpack://vue-project/src/views/layout/usermang.vue","webpack://vue-project/./src/views/layout/usermang.vue?e82b","webpack://vue-project/./src/views/layout/usermang.vue?559a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"manage\"},[_c('el-dialog',{attrs:{\"title\":_vm.modelType == 0 ? '新增用户' : '编辑用户',\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formModel,\"label-width\":\"80px\",\"inline\":true,\"rules\":_vm.rules,\"before-close\":_vm.handleClose}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.formModel.name),callback:function ($$v) {_vm.$set(_vm.formModel, \"name\", $$v)},expression:\"formModel.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"年龄\",\"prop\":\"age\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入年龄\"},model:{value:(_vm.formModel.age),callback:function ($$v) {_vm.$set(_vm.formModel, \"age\", _vm._n($$v))},expression:\"formModel.age\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\",\"prop\":\"sex\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择性别\"},model:{value:(_vm.formModel.sex),callback:function ($$v) {_vm.$set(_vm.formModel, \"sex\", $$v)},expression:\"formModel.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":0}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":1}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"出生时间\",\"prop\":\"birth\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formModel.birth),callback:function ($$v) {_vm.$set(_vm.formModel, \"birth\", $$v)},expression:\"formModel.birth\"}})],1),_c('el-form-item',{attrs:{\"label\":\"出生地\",\"prop\":\"addr\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入出生地址\"},model:{value:(_vm.formModel.addr),callback:function ($$v) {_vm.$set(_vm.formModel, \"addr\", $$v)},expression:\"formModel.addr\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\"确 定\")])],1)],1),_c('div',{staticClass:\"addmodule\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"+新增\")]),_c('div',[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索内容\"},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"list.name\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":function($event){return _vm.onSearch(0)}}},[_vm._v(\"重置\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"max-height\":\"980\"}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"label\":\"序号\",\"type\":\"index\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"auto\"}}),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\",\"width\":\"auto\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row}){return [_c('span',[_vm._v(_vm._s(row.sex == 1 ? '男' : '女'))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"width\":\"auto\"}}),_c('el-table-column',{attrs:{\"prop\":\"birth\",\"label\":\"出生时间\",\"width\":\"auto\"}}),_c('el-table-column',{attrs:{\"prop\":\"addr\",\"label\":\"出生地\",\"width\":\"auto\"}}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.handleDelt(scope.row)}}})]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.list.page,\"page-sizes\":[13, 30, 50, 100],\"page-size\":_vm.list.limit,\"layout\":\"sizes, prev, pager, next, total\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.list, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.list, \"page\", $event)}}})],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 用户管理\r\nimport request from '@/utile/request.js'\r\n\r\n// 用户列表接口\r\nexport const getUserList = (params) => request.get('/user/getuser', {\r\n  params\r\n})\r\n\r\n// 添加用户接口\r\nexport const addUser = (data) => request.post('/user/add', data)\r\n\r\n// 编辑用户接口\r\nexport const editUser = (data) => request.post('/user/edit', data)\r\n\r\n// 删除用户接口\r\nexport const deleteUser = (id) => request.post('/user/delete', {\r\n  id\r\n})\r\n","<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <div>\r\n    <div class=\"manage\">\r\n      <!-- 弹窗 -->\r\n      <el-dialog\r\n        :title=\"modelType == 0 ? '新增用户' : '编辑用户'\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"50%\">\r\n        <!-- 用户的表单信息 -->\r\n        <el-form :model=\"formModel\"\r\n        label-width=\"80px\"\r\n        :inline=\"true\"\r\n        ref=\"form\"\r\n        :rules=\"rules\"\r\n        :before-close=\"handleClose\"\r\n        >\r\n          <el-form-item label=\"姓名\" prop=\"name\">\r\n            <el-input v-model=\"formModel.name\" placeholder=\"请输入姓名\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"年龄\" prop=\"age\">\r\n            <el-input v-model.number=\"formModel.age\" placeholder=\"请输入年龄\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"性别\" prop=\"sex\">\r\n            <el-select v-model=\"formModel.sex\" placeholder=\"请选择性别\">\r\n              <el-option label=\"男\" :value=\"0\"></el-option>\r\n              <el-option label=\"女\" :value=\"1\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"出生时间\" prop=\"birth\">\r\n            <el-date-picker\r\n              v-model=\"formModel.birth\"\r\n              type=\"date\"\r\n              placeholder=\"选择日期\"\r\n              >\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"出生地\" prop=\"addr\">\r\n            <el-input v-model=\"formModel.addr\" placeholder=\"请输入出生地址\"></el-input>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"handleClose\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"onConfirm\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n\r\n      <div class=\"addmodule\">\r\n        <!-- 新增 -->\r\n        <el-button type=\"primary\" @click=\"dialogVisible = true\">+新增</el-button>\r\n        <!-- 搜索与重置 -->\r\n        <div>\r\n          <el-input v-model.trim=\"list.name\" placeholder=\"请输入搜索内容\"></el-input>\r\n          <el-button @click=\"onSearch\" type=\"primary\">搜索</el-button>\r\n          <el-button @click=\"onSearch(0)\" >重置</el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 表格 -->\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        border\r\n        max-height=\"980\"\r\n        style=\"width: 100%\"\r\n        >\r\n        <el-table-column\r\n          fixed\r\n          label=\"序号\"\r\n          type=\"index\"\r\n          width=\"200\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          fixed\r\n          prop=\"name\"\r\n          label=\"姓名\"\r\n          width=\"auto\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"sex\"\r\n          label=\"性别\"\r\n          width=\"auto\">\r\n          <template #default=\"{row}\">\r\n            <span>{{ row.sex == 1 ? '男' : '女' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"age\"\r\n          label=\"年龄\"\r\n          width=\"auto\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"birth\"\r\n          label=\"出生时间\"\r\n          width=\"auto\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"addr\"\r\n          label=\"出生地\"\r\n          width=\"auto\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"110\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"handleEdit(scope.row)\" type=\"primary\" icon=\"el-icon-edit\" circle></el-button>\r\n            <el-button @click=\"handleDelt(scope.row)\" type=\"danger\" icon=\"el-icon-delete\" circle></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 页码 -->\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page.sync=\"list.page\"\r\n          :page-sizes=\"[13, 30, 50, 100]\"\r\n          :page-size=\"list.limit\"\r\n          layout=\"sizes, prev, pager, next, total\"\r\n          :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Message } from 'element-ui'\r\nimport { getUserList, addUser, editUser, deleteUser } from '@/api/user.js'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      dialogVisible: false,\r\n      loading: false,\r\n      modelType: 0, // 0新增， 1编辑\r\n      tableData: [],\r\n      list: {\r\n        name: '',\r\n        page: 1,\r\n        limit: 13\r\n      },\r\n      total: 0,\r\n      defaultForm: {\r\n        name: '',\r\n        age: '',\r\n        sex: '',\r\n        birth: '',\r\n        addr: ''\r\n      },\r\n      formModel: {\r\n        name: '',\r\n        age: '',\r\n        sex: '',\r\n        birth: '',\r\n        addr: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, message: '请输入姓名', tirgger: 'blur' },\r\n          { min: 2, max: 15, message: '请输入2-15位的字符', tirgger: 'blur' }\r\n        ],\r\n        age: [\r\n          { type: 'number', required: true, message: '请输入年龄', tirgger: 'blur' }\r\n        ],\r\n        sex: [\r\n          { type: 'number', required: true, message: '请输入性别', tirgger: 'blur' }\r\n        ],\r\n        // birth: [\r\n        //   { type: 'date', required: true, message: '请输入出生时间', tirgger: 'blur' }\r\n        // ],\r\n        addr: [\r\n          { required: true, message: '请输入出生地', tirgger: 'blur' },\r\n          { max: 100, message: '请输入正确的地址', tirgger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取用户列表\r\n    async getUserList () {\r\n      this.loading = true\r\n      const data = await getUserList(this.list)\r\n      // console.log(data.count)\r\n      this.total = data.count\r\n      this.tableData = data.list\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 600)\r\n    },\r\n    // 提交表单\r\n    async onConfirm () {\r\n      this.$refs.form.validate(async (valid) => {\r\n        if (valid === true) {\r\n          if (this.modelType === 0) {\r\n            // 新增\r\n            this.formModel.birth = new Date(this.formModel.birth).toLocaleDateString()\r\n            const data = await addUser(this.formModel)\r\n            this.list.page = 1\r\n            this.getUserList()\r\n          }\r\n          if (this.modelType === 1) {\r\n            // 编辑\r\n            const data = await editUser(this.formModel)\r\n            console.log(data)\r\n            this.getUserList()\r\n          }\r\n          // 重置表单\r\n          this.handleClose()\r\n          this.dialogVisible = false\r\n        }\r\n      })\r\n    },\r\n    // 弹窗关闭时触发\r\n    handleClose () {\r\n      // 重置表单\r\n      this.formModel = { ...this.defaultForm }\r\n      this.$refs.form.resetFields()\r\n      this.dialogVisible = false\r\n    },\r\n\r\n    // 编辑\r\n    handleEdit (row) {\r\n      this.modelType = 1\r\n      this.dialogVisible = true\r\n      this.formModel = {\r\n        ...JSON.parse(JSON.stringify(row))\r\n      }\r\n    },\r\n    // 删除\r\n    async handleDelt (row) {\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const data = await deleteUser(row.id)\r\n        this.getUserList()\r\n        Message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        })\r\n      }).catch(() => {\r\n        Message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    // 显示条数改变时\r\n    async handleSizeChange (show) {\r\n      // console.log(show)\r\n      this.list.page = 1\r\n      this.list.limit = show\r\n      this.getUserList()\r\n    },\r\n\r\n    // 页码改变时\r\n    async handleCurrentChange (size) {\r\n      // console.log(size)\r\n      this.list.page = size\r\n      this.getUserList()\r\n    },\r\n\r\n    // 搜索\r\n    onSearch (val) {\r\n      if (val === 0) {\r\n        this.list.name = ''\r\n        this.getUserList()\r\n        return\r\n      }\r\n\r\n      this.getUserList()\r\n    }\r\n\r\n  },\r\n  computed: {\r\n  },\r\n  async created () {\r\n    this.$store.commit('tag/selecMenu', {\r\n      path: this.$route.path,\r\n      label: '用户管理'\r\n    })\r\n    // 调用获取用户列表方法\r\n    this.getUserList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.manage{\r\n  height: 90%;\r\n}\r\n.addmodule{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  div{\r\n    display: flex;\r\n    padding: 0 10px;\r\n  }\r\n}\r\n.pagination{\r\n  float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./usermang.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/thread-loader@3.0.4/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./usermang.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./usermang.vue?vue&type=template&id=25578186&scoped=true\"\nimport script from \"./usermang.vue?vue&type=script&lang=js\"\nexport * from \"./usermang.vue?vue&type=script&lang=js\"\nimport style0 from \"./usermang.vue?vue&type=style&index=0&id=25578186&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25578186\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","modelType","dialogVisible","on","$event","ref","formModel","rules","handleClose","model","value","name","callback","$$v","$set","expression","age","_n","sex","birth","addr","slot","_v","onConfirm","list","trim","onSearch","directives","rawName","loading","staticStyle","tableData","scopedSlots","_u","key","fn","row","_s","scope","handleEdit","handleDelt","page","limit","total","handleSizeChange","handleCurrentChange","staticRenderFns","getUserList","params","request","get","addUser","data","post","editUser","deleteUser","id","defaultForm","required","message","tirgger","min","max","type","methods","count","setTimeout","$refs","form","validate","valid","Date","toLocaleDateString","console","log","resetFields","JSON","parse","stringify","$confirm","confirmButtonText","cancelButtonText","then","_Message","catch","show","size","val","computed","created","$store","commit","path","$route","label","component"],"sourceRoot":""}