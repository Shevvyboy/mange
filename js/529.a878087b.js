"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[529],{1548:function(e,t,a){var l=a(9049);const o="http://123.57.109.30:3999",i=l.Z.create({baseURL:o,timeout:1e3});t.Z=i},8143:function(e,t,a){a.d(t,{Z:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[[t("div",[t("el-card",{staticClass:"box-card",scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"card-header"},[t("span",[e._v(e._s(e.title))]),t("div",{staticClass:"extra"},[e._t("extra")],2)])]},proxy:!0}],null,!0)},[e._t("default")],2)],1)]],2)},o=[],i={props:{title:{type:String,default:"标题"}}},r=i,s=a(4249),n=(0,s.Z)(r,l,o,!1,null,"26483a25",null),c=n.exports},4529:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var l=function(){var e=this,t=e._self._c;return t("div",[t("Headercomponer",{attrs:{title:"学生列表"}},[t("div",{attrs:{slot:"extra"},slot:"extra"},[t("el-button",{attrs:{type:"success"},on:{click:e.handleAdd}},[e._v("+添加学生")])],1),t("div",[t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-input",{model:{value:e.vualeS,callback:function(t){e.vualeS="string"===typeof t?t.trim():t},expression:"vualeS"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onSearch("s")}}},[e._v("搜索")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSearch("r")}}},[e._v("重置")])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.pagedData,"max-height":"900px"}},[t("el-table-column",{attrs:{prop:"id",label:"学生ID",width:"auto"}}),t("el-table-column",{attrs:{prop:"name",label:"学生姓名",width:"auto"}}),t("el-table-column",{attrs:{prop:"age",label:"学生年龄",width:"auto"}}),t("el-table-column",{attrs:{prop:"",label:"学生性别",width:"auto"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._v(e._s(1===t.gender?"男":"女"))]}}])}),t("el-table-column",{attrs:{prop:"group",label:"学生组号",width:"auto"}}),t("el-table-column",{attrs:{prop:"hope_salary",label:"期望薪资",width:"auto"}}),t("el-table-column",{attrs:{prop:"salary",label:"就业薪资",width:"auto"}}),t("el-table-column",{attrs:{prop:"",label:"籍贯",width:"auto"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._v(" "+e._s(t.province+"-"+t.city+"-"+t.area)+" ")]}}])}),t("el-table-column",{attrs:{prop:"",label:"籍贯",width:"auto"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._v(" "+e._s(new Date(t.createdAt).toLocaleString())+" ")]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",icon:"el-icon-edit",circle:""},on:{click:function(t){return e.handleEdit(a.row)}}}),t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.handleDelt(a.row)}}})]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,15,25,35],"page-size":10,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleChangeLamit,"current-change":e.handleChangePage}}),t("studentAlter",{ref:"sAlter",on:{success:e.onSuccess}})],1)])],1)},o=[],i=a(505),r=a.n(i),s=a(3800),n=a(8143),c=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:e.formModel.id?"编辑学生":"添加学生",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.formModel,inline:!0}},[t("el-form-item",{attrs:{label:"学生姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"韩立"},model:{value:e.formModel.name,callback:function(t){e.$set(e.formModel,"name",t)},expression:"formModel.name"}})],1),t("el-form-item",{attrs:{label:"学生年龄",prop:"age"}},[t("el-input",{attrs:{placeholder:"21"},model:{value:e.formModel.age,callback:function(t){e.$set(e.formModel,"age",e._n(t))},expression:"formModel.age"}})],1),t("el-form-item",{attrs:{label:"学生性别",prop:"gender"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.formModel.gender,callback:function(t){e.$set(e.formModel,"gender",t)},expression:"formModel.gender"}},[t("el-option",{attrs:{value:1,label:"男"}}),t("el-option",{attrs:{value:0,label:"女"}})],1)],1),t("el-form-item",{attrs:{label:"学生组号",prop:"group"}},[t("el-select",{attrs:{placeholder:"请选择组号"},model:{value:e.formModel.group,callback:function(t){e.$set(e.formModel,"group",e._n(t))},expression:"formModel.group"}},e._l(8,(function(e,a){return t("el-option",{key:a,attrs:{value:e,label:e}})})),1)],1),t("el-form-item",{attrs:{label:"期望薪资",prop:"hope_salary"}},[t("el-input",{attrs:{placeholder:"23200"},model:{value:e.formModel.hope_salary,callback:function(t){e.$set(e.formModel,"hope_salary",e._n(t))},expression:"formModel.hope_salary"}})],1),t("el-form-item",{attrs:{label:"就业薪资",prop:"salary"}},[t("el-input",{attrs:{placeholder:"5800"},model:{value:e.formModel.salary,callback:function(t){e.$set(e.formModel,"salary",e._n(t))},expression:"formModel.salary"}})],1),t("el-form-item",{attrs:{label:"所在省份",prop:"province"}},[t("el-select",{attrs:{placeholder:"-所在省份-"},on:{input:e.getCity},model:{value:e.formModel.province,callback:function(t){e.$set(e.formModel,"province",t)},expression:"formModel.province"}},e._l(e.provincesList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.proName,label:e.proName}})})),1)],1),t("el-form-item",{attrs:{label:"所在城市",prop:"city"}},[t("el-select",{attrs:{placeholder:"-所在城市-"},on:{input:e.getArea},model:{value:e.formModel.city,callback:function(t){e.$set(e.formModel,"city",t)},expression:"formModel.city"}},e._l(e.cityList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.cityName,label:e.cityName}})})),1)],1),t("el-form-item",{attrs:{label:"所在县(区)",prop:"area"}},[t("el-select",{attrs:{placeholder:"-所在县(区)-"},model:{value:e.formModel.area,callback:function(t){e.$set(e.formModel,"area",t)},expression:"formModel.area"}},e._l(e.areaList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.areaName,label:e.areaName}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)],1)],1)},d=[],u=a(1548);const p=()=>u.Z.get("/api/provincesList"),m=e=>u.Z.get("/api/cityList",{params:{proId:e}}),f=e=>u.Z.get("/api/areaList",{params:{cityId:e}});var h={data(){return{dialogVisible:!1,defaultForm:{name:"",age:"",gender:"",province:"",city:"",area:"",hope_salary:"",salary:"",group:""},formModel:{name:"",age:"",gender:"",province:"",city:"",area:"",hope_salary:"",salary:"",group:""},provincesList:[],cityList:[],areaList:[]}},methods:{open(e){e.id?(this.dialogVisible=!0,this.formModel=e):this.dialogVisible=!0},async getCity(e){const t=this.provincesList.find((t=>t.proName===e)).proId,{data:{list:a}}=await m(t);this.cityList=a},async getArea(e){const t=this.cityList.find((t=>t.cityName===e)).cityId,{data:{list:a}}=await f(t);this.areaList=a},async onSubmit(){if(this.formModel.id){await(0,s.Zt)(this.formModel,this.formModel.id);this.dialogVisible=!1,this.$emit("success",1)}else{const{data:e}=await(0,s.f)(this.formModel);this.$emit("success",0),this.dialogVisible=!1}}},watch:{dialogVisible(e){e||(this.formModel={...this.defaultForm})}},async created(){const{data:e}=await p();this.provincesList=e.list}},g=h,b=a(4249),v=(0,b.Z)(g,c,d,!1,null,null,null),y=v.exports,_={data(){return{loading:!1,studentList:[],page:1,lamit:10,vualeS:""}},methods:{async getStudentList(){this.loading=!0;const{data:e}=await(0,s.TF)();this.studentList=e.data,this.loading=!1},handleChangePage(e){this.page=e},handleChangeLamit(e){this.page=1,this.lamit=e},handleAdd(){this.$refs.sAlter.open({})},handleEdit(e){this.$refs.sAlter.open(e)},handleDelt(e){this.$confirm("您确定需要永久删除该项么？","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{await(0,s.MA)(e.id),r().success("删除成功"),this.getStudentList()})).catch((()=>{}))},onSuccess(){r().success("操作成功"),this.getStudentList()},onSearch(e){if("s"===e){if(""===this.vualeS)return void this.getStudentList();const e=this.studentList.find((e=>e.name===this.vualeS));if(void 0===e)return void(this.studentList=[]);this.studentList=[],this.studentList.push(e)}"r"===e&&this.getStudentList()}},computed:{pagedData(){const e=(this.page-1)*this.lamit,t=e+this.lamit;return this.studentList.slice(e,t)},total(){return this.studentList.length}},created(){this.$store.commit("tag/selecMenu",{path:this.$route.path,label:"学生列表"}),this.getStudentList()},components:{Headercomponer:n.Z,studentAlter:y}},M=_,L=(0,b.Z)(M,l,o,!1,null,"022af250",null),k=L.exports}}]);
//# sourceMappingURL=529.a878087b.js.map